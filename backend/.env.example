# Configuración del Servidor
NODE_ENV=development
PORT=3000

# Configuración de CORS
FRONTEND_URL=http://localhost:8080

# =====================================================
# CONFIGURACIÓN DE EMAIL
# =====================================================
# Servicio de email (gmail, outlook, etc.)
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587

# Credenciales de Gmail
# IMPORTANTE: Usar App Password de 16 dígitos, NO tu contraseña normal
# Genera un App Password en: https://myaccount.google.com/apppasswords
EMAIL_USER=tu-email@gmail.com
EMAIL_PASS=xxxx-xxxx-xxxx-xxxx

# Email del remitente (puede ser diferente al EMAIL_USER)
EMAIL_FROM="Estudio Artesana" <noreply@estudioartesana.com>

# Email del administrador para recibir notificaciones de nuevos pedidos
ADMIN_EMAIL=admin@estudioartesana.com

# Para testing con Ethereal Email (desarrollo)
# Usar Ethereal en desarrollo evita enviar emails reales
# Genera una cuenta de prueba en: https://ethereal.email/create
# EMAIL_HOST=smtp.ethereal.email
# EMAIL_PORT=587
# EMAIL_USER=ethereal.user@ethereal.email
# EMAIL_PASS=ethereal.pass

# URL del servicio de email (para payment-service)
EMAIL_SERVICE_URL=http://localhost:3000

# Rate limiting para emails (prevenir spam)
MAX_EMAIL_REQUESTS_PER_15_MIN=10
EMAIL_TIMEOUT=30000

# Configuración de logging
LOG_LEVEL=info

# =====================================================
# TIPOS DE EMAIL QUE SE ENVÍAN
# =====================================================
# 1. Email de Bienvenida - Enviado al registrarse
# 2. Email de Confirmación de Pago - Enviado al recibir pago
# 3. Email de Confirmación de Pedido - Detalles completos del pedido
# 4. Email de Notificación al Admin - Alerta de nuevo pedido

# =====================================================
# CONFIGURACIÓN DE SUPABASE
# =====================================================
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_SERVICE_ROLE_KEY=tu-service-role-key-aqui

# =====================================================
# CONFIGURACIÓN DE ENVIA.COM
# =====================================================
# API Key de Envia.com (obtener desde https://ship.envia.com/settings/api)
ENVIA_API_KEY=tu-envia-api-key-aqui

# URL base de la API de Envia.com
ENVIA_BASE_URL=https://queries.envia.com/api/1.0

# Configuración de origen (tu bodega/almacén)
ORIGIN_ZIP_CODE=01000
ORIGIN_COUNTRY=MX

# Dimensiones por defecto para paquetes (en cm)
DEFAULT_PACKAGE_LENGTH=30
DEFAULT_PACKAGE_WIDTH=20
DEFAULT_PACKAGE_HEIGHT=15

# Peso por defecto (en gramos) si no se especifica
DEFAULT_PACKAGE_WEIGHT=500

# Configuración de caché
SHIPPING_CACHE_TTL_HOURS=24

# Modo de desarrollo (true para usar sandbox de Envia)
ENVIA_SANDBOX_MODE=true

# Webhook secret para validar requests de Envia.com
ENVIA_WEBHOOK_SECRET=tu-webhook-secret-aqui

# =====================================================
# CONFIGURACIÓN DE OPENPAY (BBVA)
# =====================================================
# Credenciales de Openpay (obtener desde https://dashboard.openpay.mx)
# IMPORTANTE: Usar credenciales de SANDBOX para desarrollo y PRODUCCIÓN para producción

# Merchant ID (único por comercio)
OPENPAY_MERCHANT_ID=mxxxxxxxx

# Public API Key (segura para exponer en frontend)
OPENPAY_PUBLIC_KEY=pk_xxxxxxxxxxxxxxxx

# Private API Key (NUNCA exponer en frontend, solo backend)
OPENPAY_PRIVATE_KEY=sk_xxxxxxxxxxxxxxxx

# Modo Sandbox (true para desarrollo/testing, false para producción)
OPENPAY_SANDBOX=true

# Webhook Secret para validar firmas de webhooks
# Generar con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
OPENPAY_WEBHOOK_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Puerto del servicio de pagos
PAYMENT_PORT=3002

# =====================================================
# NOTAS DE SEGURIDAD - OPENPAY
# =====================================================
# - NUNCA compartir la Private API Key
# - NUNCA commitear el archivo .env al repositorio
# - Cambiar Webhook Secret antes de ir a producción
# - Usar variables de entorno del hosting para producción (Railway, Render, etc.)
# - Las claves de sandbox y producción son diferentes
